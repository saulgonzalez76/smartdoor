/*
 pace 1.0.0 */
(function(){var r,t,n,M,y,x,D,N,O,u=[].slice,P={}.hasOwnProperty,Q=function(b,a){function c(){this.constructor=b}for(var d in a)P.call(a,d)&&(b[d]=a[d]);return c.prototype=a.prototype,b.prototype=new c,b.__super__=a.prototype,b},Z=[].indexOf||function(b){for(var a=0,c=this.length;c>a;a++)if(a in this&&this[a]===b)return a;return-1};var p={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,
target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}};var v=function(){var b;return null!=(b="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?b:+new Date};var E=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var F=window.cancelAnimationFrame||
window.mozCancelAnimationFrame;null==E&&(E=function(b){return setTimeout(b,50)},F=function(b){return clearTimeout(b)});var aa=function(b){var a,c;return a=v(),(c=function(){var d;return d=v()-a,33<=d?(a=v(),b(d,function(){return E(c)})):setTimeout(c,33-d)})()};var R=function(){var b,a,c;return c=arguments[0],a=arguments[1],b=3<=arguments.length?u.call(arguments,2):[],"function"==typeof c[a]?c[a].apply(c,b):c[a]};var B=function(){var b,a,c,d;var e=arguments[0];var h=2<=arguments.length?u.call(arguments,
1):[];var k=0;for(d=h.length;d>k;k++)if(a=h[k])for(b in a)P.call(a,b)&&(c=a[b],null!=e[b]&&"object"==typeof e[b]&&null!=c&&"object"==typeof c?B(e[b],c):e[b]=c);return e};var ba=function(b){var a,c,d;var e=c=a=0;for(d=b.length;d>e;e++){var h=b[e];c+=Math.abs(h);a++}return c/a};var m=function(){function b(){}return b.prototype.on=function(a,b,d,e){var c;return null==e&&(e=!1),null==this.bindings&&(this.bindings={}),null==(c=this.bindings)[a]&&(c[a]=[]),this.bindings[a].push({handler:b,ctx:d,once:e})},
b.prototype.once=function(a,b,d){return this.on(a,b,d,!0)},b.prototype.off=function(a,b){var c,e;if(null!=(null!=(c=this.bindings)?c[a]:void 0)){if(null==b)return delete this.bindings[a];c=0;for(e=[];c<this.bindings[a].length;)e.push(this.bindings[a][c].handler===b?this.bindings[a].splice(c,1):c++);return e}},b.prototype.trigger=function(){var a,b,d,e;if(d=arguments[0],a=2<=arguments.length?u.call(arguments,1):[],null!=(b=this.bindings)?b[d]:void 0){var h=0;for(e=[];h<this.bindings[d].length;){var k=
this.bindings[d][h];var f=k.handler;b=k.ctx;k=k.once;f.apply(null!=b?b:this,a);e.push(k?this.bindings[d].splice(h,1):h++)}return e}},b}();var f=window.Pace||{};window.Pace=f;B(f,m.prototype);var g=f.options=B({},p,window.paceOptions,function(b,a){var c,d;if(null==b&&(b="options"),null==a&&(a=!0),d=document.querySelector("[data-pace-"+b+"]")){if(b=d.getAttribute("data-pace-"+b),!a)return b;try{return JSON.parse(b)}catch(e){return c=e,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",
c):void 0}}}());var S=["ajax","document","eventLag","elements"];m=0;for(r=S.length;r>m;m++){var l=S[m];!0===g[l]&&(g[l]=p[l])}var G=function(b){function a(){return a.__super__.constructor.apply(this,arguments)}return Q(a,b),a}(Error);var ca=function(){function b(){this.progress=0}return b.prototype.getElement=function(){var a;if(null==this.el){if(a=document.querySelector(g.target),!a)throw new G;this.el=document.createElement("div");this.el.className="pace pace-active";document.body.className=document.body.className.replace(/pace-done/g,
"");document.body.className+=" pace-running";this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>';null!=a.firstChild?a.insertBefore(this.el,a.firstChild):a.appendChild(this.el)}return this.el},b.prototype.finish=function(){var a;return a=this.getElement(),a.className=a.className.replace("pace-active",""),a.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=
" pace-done"},b.prototype.update=function(a){return this.progress=a,this.render()},b.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(a){G=a}return this.el=void 0},b.prototype.render=function(){var a,b;if(null==document.querySelector(g.target))return!1;var d=this.getElement();var e="translate3d("+this.progress+"%, 0, 0)";var h=["webkitTransform","msTransform","transform"];var k=0;for(b=h.length;b>k;k++){var f=h[k];d.children[0].style[f]=e}return(!this.lastRenderedProgress||
this.lastRenderedProgress|0!==this.progress|0)&&(d.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),100<=this.progress?a="99":(a=10>this.progress?"0":"",a+=0|this.progress),d.children[0].setAttribute("data-progress",""+a)),this.lastRenderedProgress=this.progress},b.prototype.done=function(){return 100<=this.progress},b}();p=function(){function b(){this.bindings={}}return b.prototype.trigger=function(a,b){var c;if(null!=this.bindings[a]){var e=this.bindings[a];var h=[];var k=
0;for(c=e.length;c>k;k++)a=e[k],h.push(a.call(this,b));return h}},b.prototype.on=function(a,b){var c;return null==(c=this.bindings)[a]&&(c[a]=[]),this.bindings[a].push(b)},b}();var T=window.XMLHttpRequest;var H=window.XDomainRequest;var C=window.WebSocket;var I=function(b,a){var c;var d=[];for(c in a.prototype)try{var e=a.prototype[c];d.push(null==b[c]&&"function"!=typeof e?b[c]=e:void 0)}catch(h){}return d};var q=[];f.ignore=function(){var b,a,c;return a=arguments[0],b=2<=arguments.length?u.call(arguments,
1):[],q.unshift("ignore"),c=a.apply(null,b),q.shift(),c};f.track=function(){var b,a,c;return a=arguments[0],b=2<=arguments.length?u.call(arguments,1):[],q.unshift("track"),c=a.apply(null,b),q.shift(),c};var J=function(b){var a;return(null==b&&(b="GET"),"track"===q[0])?"force":!q.length&&g.ajax&&("socket"===b&&g.ajax.trackWebSockets||(a=b.toUpperCase(),0<=Z.call(g.ajax.trackMethods,a)))?!0:!1};var da=function(b){function a(){var b=this;a.__super__.constructor.apply(this,arguments);var d=function(a){var c;
return c=a.open,a.open=function(e,d){return J(e)&&b.trigger("request",{type:e,url:d,request:a}),c.apply(a,arguments)}};window.XMLHttpRequest=function(a){var b;return b=new T(a),d(b),b};try{I(window.XMLHttpRequest,T)}catch(e){}if(null!=H){window.XDomainRequest=function(){var a;return a=new H,d(a),a};try{I(window.XDomainRequest,H)}catch(e){}}if(null!=C&&g.ajax.trackWebSockets){window.WebSocket=function(a,c){var d;return d=null!=c?new C(a,c):new C(a),J("socket")&&b.trigger("request",{type:"socket",url:a,
protocols:c,request:d}),d};try{I(window.WebSocket,C)}catch(e){}}}return Q(a,b),a}(p);var K=null;var U=function(){return null==K&&(K=new da),K};var V=function(b){var a,c;var d=g.ajax.ignoreURLs;var e=0;for(c=d.length;c>e;e++)if(a=d[e],"string"==typeof a){if(-1!==b.indexOf(a))return!0}else if(a.test(b))return!0;return!1};U().on("request",function(b){var a,c,d,e,h;return e=b.type,d=b.request,h=b.url,V(h)?void 0:f.running||!1===g.restartOnRequestAfter&&"force"!==J(e)?void 0:(c=arguments,a=g.restartOnRequestAfter||
0,"boolean"==typeof a&&(a=0),setTimeout(function(){var a,b;if("socket"===e?2>d.readyState:0<(a=d.readyState)&&4>a){f.restart();var h=f.sources;var g=[];a=0;for(b=h.length;b>a;a++){if(l=h[a],l instanceof W){l.watch.apply(l,c);break}g.push(void 0)}return g}},a))});var W=function(){function b(){var a=this;this.elements=[];U().on("request",function(){return a.watch.apply(a,arguments)})}return b.prototype.watch=function(a){var b,d,e,f;return e=a.type,b=a.request,f=a.url,V(f)?void 0:(d="socket"===e?new ea(b):
new fa(b),this.elements.push(d))},b}();var fa=function(){return function(b){var a,c=this;if(this.progress=0,null!=window.ProgressEvent){b.addEventListener("progress",function(a){return c.progress=a.lengthComputable?100*a.loaded/a.total:c.progress+(100-c.progress)/2},!1);var d=["load","abort","timeout","error"];var e=0;for(a=d.length;a>e;e++){var f=d[e];b.addEventListener(f,function(){return c.progress=100},!1)}}else{var g=b.onreadystatechange;b.onreadystatechange=function(){var a;return 0===(a=b.readyState)||
4===a?c.progress=100:3===b.readyState&&(c.progress=50),"function"==typeof g?g.apply(null,arguments):void 0}}}}();var ea=function(){return function(b){var a,c=this;this.progress=0;var d=["error","open"];var e=0;for(a=d.length;a>e;e++){var f=d[e];b.addEventListener(f,function(){return c.progress=100},!1)}}}();m=function(){return function(b){var a;null==b&&(b={});this.elements=[];null==b.selectors&&(b.selectors=[]);var c=b.selectors;var d=0;for(a=c.length;a>d;d++)b=c[d],this.elements.push(new ha(b))}}();
var ha=function(){function b(a){this.selector=a;this.progress=0;this.check()}return b.prototype.check=function(){var a=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return a.check()},g.elements.checkInterval)},b.prototype.done=function(){return this.progress=100},b}();p=function(){function b(){var a,b=this;this.progress=null!=(a=this.states[document.readyState])?a:100;var d=document.onreadystatechange;document.onreadystatechange=function(){return null!=b.states[document.readyState]&&
(b.progress=b.states[document.readyState]),"function"==typeof d?d.apply(null,arguments):void 0}}return b.prototype.states={loading:0,interactive:50,complete:100},b}();r=function(){return function(){var b=this;var a=this.progress=0;var c=[];var d=0;var e=v();var f=setInterval(function(){var h;return h=v()-e-50,e=v(),c.push(h),c.length>g.eventLag.sampleCount&&c.shift(),a=ba(c),++d>=g.eventLag.minSamples&&a<g.eventLag.lagThreshold?(b.progress=100,clearInterval(f)):b.progress=3/(a+3)*100},50)}}();var X=
function(){function b(a){this.source=a;this.last=this.sinceLastUpdate=0;this.rate=g.initialRate;this.progress=this.lastProgress=this.catchup=0;null!=this.source&&(this.progress=R(this.source,"progress"))}return b.prototype.tick=function(a,b){var c;return null==b&&(b=R(this.source,"progress")),100<=b&&(this.done=!0),b===this.last?this.sinceLastUpdate+=a:(this.sinceLastUpdate&&(this.rate=(b-this.last)/this.sinceLastUpdate),this.catchup=(b-this.progress)/g.catchupTime,this.sinceLastUpdate=0,this.last=
b),b>this.progress&&(this.progress+=this.catchup*a),c=1-Math.pow(this.progress/100,g.easeFactor),this.progress+=c*this.rate*a,this.progress=Math.min(this.lastProgress+g.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},b}();var L=t=D=n=y=x=null;f.running=!1;var Y=function(){return g.restartOnPushState?f.restart():void 0};null!=window.history.pushState&&(N=window.history.pushState,window.history.pushState=
function(){return Y(),N.apply(window.history,arguments)});null!=window.history.replaceState&&(O=window.history.replaceState,window.history.replaceState=function(){return Y(),O.apply(window.history,arguments)});var ia={ajax:W,elements:m,document:p,eventLag:r};(M=function(){var b,a;f.sources=x=[];var c=["ajax","elements","document","eventLag"];var d=0;for(a=c.length;a>d;d++){var e=c[d];!1!==g[e]&&x.push(new ia[e](g[e]))}e=null!=(b=g.extraSources)?b:[];b=0;for(d=e.length;d>b;b++)l=e[b],x.push(new l(g));
return f.bar=n=new ca,y=[],D=new X})();f.stop=function(){return f.trigger("stop"),f.running=!1,n.destroy(),L=!0,null!=t&&("function"==typeof F&&F(t),t=null),M()};f.restart=function(){return f.trigger("restart"),f.stop(),f.start()};f.go=function(){var b;return f.running=!0,n.render(),b=v(),L=!1,t=aa(function(a,c){var d,e,h,k,m,p,q;var t=e=0;var u=!0;var w=h=0;for(m=x.length;m>h;w=++h){l=x[w];var r=null!=y[w]?y[w]:y[w]=[];w=null!=(q=l.elements)?q:[l];var z=k=0;for(p=w.length;p>k;z=++k){var A=w[z];A=
null!=r[z]?r[z]:r[z]=new X(A);u&=A.done;A.done||(t++,e+=A.tick(a))}}return d=e/t,n.update(D.tick(a,d)),n.done()||u||L?(n.update(100),f.trigger("done"),setTimeout(function(){return n.finish(),f.running=!1,f.trigger("hide")},Math.max(g.ghostTime,Math.max(g.minTime-(v()-b),0)))):c()})};f.start=function(b){B(g,b);f.running=!0;try{n.render()}catch(a){G=a}return document.querySelector(".pace")?(f.trigger("start"),f.go()):setTimeout(f.start,50)};"function"==typeof define&&define.amd?define(function(){return f}):
"object"==typeof exports?module.exports=f:g.startOnPageLoad&&f.start()}).call(this);
