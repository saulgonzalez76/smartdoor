(function(e){function a(b){var h=this,c=b.data||{};if(c.elem)h=b.dragTarget=c.elem,b.dragProxy=f.proxy||h,b.cursorOffsetX=c.pageX-c.left,b.cursorOffsetY=c.pageY-c.top,b.offsetX=b.pageX-b.cursorOffsetX,b.offsetY=b.pageY-b.cursorOffsetY;else if(f.dragging||0<c.which&&b.which!=c.which||e(b.target).is(c.not))return;switch(b.type){case "mousedown":return e.extend(c,e(h).offset(),{elem:h,target:b.target,pageX:b.pageX,pageY:b.pageY}),g.add(document,"mousemove mouseup",a,c),m(h,!1),f.dragging=null,!1;case !f.dragging&&
"mousemove":if(Math.pow(b.pageX-c.pageX,2)+Math.pow(b.pageY-c.pageY,2)<c.distance)break;b.target=c.target;var d=k(b,"dragstart",h);!1!==d&&(f.dragging=h,f.proxy=b.dragProxy=e(d||h)[0]);case "mousemove":if(f.dragging){if(d=k(b,"drag",h),l.drop&&(l.drop.allowed=!1!==d,l.drop.handler(b)),!1!==d)break;b.type="mouseup"}case "mouseup":g.remove(document,"mousemove mouseup",a),f.dragging&&(l.drop&&l.drop.handler(b),k(b,"dragend",h)),m(h,!0),f.dragging=f.proxy=c.elem=!1}return!0}function k(b,a,c){b.type=a;
a=e.event.dispatch.call(c,b);return!1===a?!1:a||b.result}function n(){return!1===f.dragging}function m(b,a){b&&(b.unselectable=a?"off":"on",b.onselectstart=function(){return a},b.style&&(b.style.MozUserSelect=a?"":"none"))}e.fn.drag=function(b,a,c){return a&&this.bind("dragstart",b),c&&this.bind("dragend",c),b?this.bind("drag",a?a:b):this.trigger("drag")};var g=e.event,l=g.special,f=l.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(b){b=e.extend({distance:f.distance,which:f.which,
not:f.not},b||{});b.distance=Math.pow(b.distance,2);g.add(this,"mousedown",a,b);this.attachEvent&&this.attachEvent("ondragstart",n)},teardown:function(){g.remove(this,"mousedown",a);this===f.dragging&&(f.dragging=f.proxy=!1);m(this,!0);this.detachEvent&&this.detachEvent("ondragstart",n)}};l.dragstart=l.dragend={setup:function(){},teardown:function(){}}})(jQuery);
(function(e){function a(a){var g=a||window.event,m=[].slice.call(arguments,1),f=0,b=0;a=e.event.fix(g);a.type="mousewheel";g.wheelDelta&&(f=g.wheelDelta/120);g.detail&&(f=-g.detail/3);var h=f;void 0!==g.axis&&g.axis===g.HORIZONTAL_AXIS&&(h=0,b=-1*f);void 0!==g.wheelDeltaY&&(h=g.wheelDeltaY/120);void 0!==g.wheelDeltaX&&(b=-1*g.wheelDeltaX/120);m.unshift(a,f,b,h);return(e.event.dispatch||e.event.handle).apply(this,m)}var k=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var n=k.length;n;)e.event.fixHooks[k[--n]]=
e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=k.length;e;)this.addEventListener(k[--e],a,!1);else this.onmousewheel=a},teardown:function(){if(this.removeEventListener)for(var e=k.length;e;)this.removeEventListener(k[--e],a,!1);else this.onmousewheel=null}};e.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);
(function(e){e.plot.plugins.push({init:function(a){function k(b,p){var d=a.offset();d.left=b.pageX-d.left;d.top=b.pageY-d.top;p?a.zoomOut({center:d}):a.zoom({center:d})}function n(a,b){a.preventDefault();k(a,0>b);return!1}function m(d){if(1!=d.which)return!1;var p=a.getPlaceholder().css("cursor");p&&(f=p);a.getPlaceholder().css("cursor",a.getOptions().pan.cursor);b=d.pageX;h=d.pageY}function g(d){var p=a.getOptions().pan.frameRate;!c&&p&&(c=setTimeout(function(){a.pan({left:b-d.pageX,top:h-d.pageY});
b=d.pageX;h=d.pageY;c=null},1/p*1E3))}function l(d){c&&(clearTimeout(c),c=null);a.getPlaceholder().css("cursor",f);a.pan({left:b-d.pageX,top:h-d.pageY})}var f="default",b=0,h=0,c=null;a.zoomOut=function(b){b||(b={});b.amount||(b.amount=a.getOptions().zoom.amount);b.amount=1/b.amount;a.zoom(b)};a.zoom=function(b){b||(b={});var d=b.center,c=b.amount||a.getOptions().zoom.amount,f=a.width(),g=a.height();d||(d={left:f/2,top:g/2});var h=d.left/f,k=d.top/g,l={x:{min:d.left-h*f/c,max:d.left+(1-h)*f/c},y:{min:d.top-
k*g/c,max:d.top+(1-k)*g/c}};e.each(a.getAxes(),function(b,a){b=a.options;var d=l[a.direction].min,c=l[a.direction].max,f=b.zoomRange,e=b.panRange;!1!==f&&(d=a.c2p(d),c=a.c2p(c),d>c&&(a=d,d=c,c=a),e&&(null!=e[0]&&d<e[0]&&(d=e[0]),null!=e[1]&&c>e[1]&&(c=e[1])),a=c-d,f&&(null!=f[0]&&a<f[0]||null!=f[1]&&a>f[1])||(b.min=d,b.max=c))});a.setupGrid();a.draw();b.preventEvent||a.getPlaceholder().trigger("plotzoom",[a,b])};a.pan=function(b){var d={x:+b.left,y:+b.top};isNaN(d.x)&&(d.x=0);isNaN(d.y)&&(d.y=0);
e.each(a.getAxes(),function(b,a){b=a.options;var c=d[a.direction],f=a.c2p(a.p2c(a.min)+c);a=a.c2p(a.p2c(a.max)+c);var e=b.panRange;!1!==e&&(e&&(null!=e[0]&&e[0]>f&&(c=e[0]-f,f+=c,a+=c),null!=e[1]&&e[1]<a&&(c=e[1]-a,f+=c,a+=c)),b.min=f,b.max=a)});a.setupGrid();a.draw();b.preventEvent||a.getPlaceholder().trigger("plotpan",[a,b])};a.hooks.bindEvents.push(function(b,a){b=b.getOptions();b.zoom.interactive&&(a[b.zoom.trigger](k),a.mousewheel(n));b.pan.interactive&&(a.bind("dragstart",{distance:10},m),a.bind("drag",
g),a.bind("dragend",l))});a.hooks.shutdown.push(function(b,a){a.unbind(b.getOptions().zoom.trigger,k);a.unbind("mousewheel",n);a.unbind("dragstart",m);a.unbind("drag",g);a.unbind("dragend",l);c&&clearTimeout(c)})},options:{xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20}},name:"navigate",version:"1.3"})})(jQuery);
