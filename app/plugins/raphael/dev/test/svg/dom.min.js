(function(k){var a;QUnit.module("DOM",{beforeEach:function(){a=new Raphael(document.getElementById("qunit-fixture"),1E3,1E3)},afterEach:function(){a.remove()}});var g=function(a,b,c,e,f){a.equal(b.parentNode,c);a.equal(b.previousSibling,e);a.equal(b.nextSibling,f)},h=function(a,b,c,e,f,h){a.equal(b.parentNode,c);g(a,c,e,f,h)};QUnit.test("insertBefore: no element",function(d){var b=a.rect();b.insertBefore(null);g(d,b.node,a.canvas,a.defs,null)});QUnit.test("insertBefore: first element",function(d){var b=
a.rect(),c=a.rect();c.insertBefore(b);g(d,c.node,a.canvas,a.defs,b.node)});QUnit.test("insertBefore: middle element",function(d){var b=a.rect(),c=a.rect(),e=a.rect();e.insertBefore(c);g(d,e.node,a.canvas,b.node,c.node)});QUnit.test("insertBefore: no element when wrapped in <a>",function(d){var b=a.rect().attr("href","http://raphaeljs.com"),c=b.node.parentNode;b.insertBefore(null);h(d,b.node,c,a.canvas,a.defs,null)});QUnit.test("insertBefore: first element when wrapped in <a>",function(d){var b=a.rect(),
c=a.rect().attr("href","http://raphaeljs.com"),e=c.node.parentNode;c.insertBefore(b);h(d,c.node,e,a.canvas,a.defs,b.node)});QUnit.test("insertBefore: first element wrapped in <a> and wrapped in <a>",function(d){var b=a.rect().attr("href","http://raphaeljs.com"),c=b.node.parentNode,e=a.rect().attr("href","http://raphaeljs.com"),f=e.node.parentNode;e.insertBefore(b);h(d,e.node,f,a.canvas,a.defs,c)});QUnit.test("insertBefore: middle element when wrapped in <a>",function(d){var b=a.rect(),c=a.rect(),
e=a.rect().attr("href","http://raphaeljs.com"),f=e.node.parentNode;e.insertBefore(c);h(d,e.node,f,a.canvas,b.node,c.node)});QUnit.test("insertBefore: middle element wrapped in <a> and wrapped in <a>",function(d){var b=a.rect().attr("href","http://raphaeljs.com").node.parentNode,c=a.rect().attr("href","http://raphaeljs.com"),e=c.node.parentNode,f=a.rect().attr("href","http://raphaeljs.com"),g=f.node.parentNode;f.insertBefore(c);h(d,f.node,g,a.canvas,b,e)});QUnit.test("insertAfter: no element",function(d){var b=
a.rect();b.insertAfter(null);g(d,b.node,a.canvas,a.defs,null)});QUnit.test("insertAfter: last element",function(d){var b=a.rect(),c=a.rect();c.insertAfter(b);g(d,c.node,a.canvas,b.node,null)});QUnit.test("insertAfter: middle element",function(d){var b=a.rect(),c=a.rect(),e=a.rect();e.insertAfter(b);g(d,e.node,a.canvas,b.node,c.node)});QUnit.test("insertAfter: no element when wrapped in <a>",function(d){var b=a.rect().attr("href","http://raphaeljs.com"),c=b.node.parentNode;b.insertAfter(null);h(d,
b.node,c,a.canvas,a.defs,null)});QUnit.test("insertAfter: last element when wrapped in <a>",function(d){var b=a.rect(),c=a.rect().attr("href","http://raphaeljs.com"),e=c.node.parentNode;c.insertAfter(b);h(d,c.node,e,a.canvas,b.node,null)});QUnit.test("insertAfter: last element wrapped in <a> and wrapped in <a>",function(d){var b=a.rect().attr("href","http://raphaeljs.com"),c=b.node.parentNode,e=a.rect().attr("href","http://raphaeljs.com"),f=e.node.parentNode;e.insertAfter(b);h(d,e.node,f,a.canvas,
c,null)});QUnit.test("insertAfter: middle element when wrapped in <a>",function(d){var b=a.rect(),c=a.rect(),e=a.rect().attr("href","http://raphaeljs.com"),f=e.node.parentNode;e.insertAfter(b);h(d,e.node,f,a.canvas,b.node,c.node)});QUnit.test("insertAfter: middle element wrapped in <a> and wrapped in <a>",function(d){var b=a.rect().attr("href","http://raphaeljs.com"),c=b.node.parentNode,e=a.rect().attr("href","http://raphaeljs.com").node.parentNode,f=a.rect().attr("href","http://raphaeljs.com"),g=
f.node.parentNode;f.insertAfter(b);h(d,f.node,g,a.canvas,c,e)});QUnit.test("remove: after added",function(d){var b=a.rect(),c=b.node;b.remove();d.equal(b.node,null);d.equal(c.parentNode,null)});QUnit.test("remove: when wrapped in <a>",function(d){var b=a.rect().attr("href","http://raphaeljs.com"),c=b.node,e=c.parentNode;b.remove();d.equal(b.node,null);d.equal(c.parentNode,e);d.equal(e.parentNode,null)});QUnit.test("remove: when already removed",function(d){var b=a.rect(),c=b.node;b.remove();b.remove();
d.equal(b.node,null);d.equal(c.parentNode,null)});QUnit.test("remove: when the canvas is removed",function(d){var b=a.rect(),c=b.node;a.remove();b.remove();d.equal(b.node,null);d.equal(c.parentNode,null)});QUnit.test("toFront: normal",function(d){var b=a.rect(),c=a.rect();b.toFront();g(d,b.node,a.canvas,c.node,null)});QUnit.test("toFront: when wrapped in <a>",function(d){var b=a.rect().attr("href","http://raphaeljs.com"),c=b.node.parentNode,e=a.rect();b.toFront();h(d,b.node,c,a.canvas,e.node,null)});
QUnit.test("toBack: normal",function(d){var b=a.rect(),c=a.rect();c.toBack();g(d,c.node,a.canvas,null,a.desc);g(d,b.node,a.canvas,a.defs,null)});QUnit.test("toBack: when wrapped in <a>",function(d){var b=a.rect(),c=a.rect().attr("href","http://raphaeljs.com"),e=c.node.parentNode;c.toBack();h(d,c.node,e,a.canvas,null,a.desc);g(d,b.node,a.canvas,a.defs,null)})})();
