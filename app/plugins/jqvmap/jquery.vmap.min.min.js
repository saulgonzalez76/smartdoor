/*
 JQVMap: jQuery Vector Map Library
 @author JQVMap <me@peterschmalfeldt.com>
 @version 1.5.1
 @link http://jqvmap.com
 @license https://github.com/manifestinteractive/jqvmap/blob/master/LICENSE
 @builddate 2016/06/02
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,d){a instanceof String&&(a=String(a));for(var c=a.length,e=0;e<c;e++){var g=a[e];if(b.call(d,g,e,a))return{i:e,v:g}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};$jscomp.getGlobal=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}return globalThis};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,d,c){if(b){d=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var e=a[c];e in d||(d[e]={});d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6","es3");
var VectorCanvas=function(a,b,d){if(this.mode=window.SVGAngle?"svg":"vml",this.params=d,"svg"===this.mode)this.createSvgNode=function(a){return document.createElementNS(this.svgns,a)};else{try{document.namespaces.rvml||document.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),this.createVmlNode=function(a){return document.createElement("<rvml:"+a+' class="rvml">')}}catch(c){this.createVmlNode=function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}document.createStyleSheet().addRule(".rvml",
"behavior:url(#default#VML)")}"svg"===this.mode?this.canvas=this.createSvgNode("svg"):(this.canvas=this.createVmlNode("group"),this.canvas.style.position="absolute");this.setSize(a,b)};VectorCanvas.prototype={svgns:"http://www.w3.org/2000/svg",mode:"svg",width:0,height:0,canvas:null};var ColorScale=function(a,b,d,c){a&&this.setColors(a);b&&this.setNormalizeFunction(b);d&&this.setMin(d);d&&this.setMax(c)};ColorScale.prototype={colors:[]};
var JQVMap=function(a){a=a||{};var b,d=this,c=JQVMap.maps[a.map];if(!c)throw Error('Invalid "'+a.map+'" map parameter. Please make sure you have loaded this map file in your HTML.');this.selectedRegions=[];this.multiSelectRegion=a.multiSelectRegion;this.container=a.container;this.defaultWidth=c.width;this.defaultHeight=c.height;this.color=a.color;this.selectedColor=a.selectedColor;this.hoverColor=a.hoverColor;this.hoverColors=a.hoverColors;this.hoverOpacity=a.hoverOpacity;this.setBackgroundColor(a.backgroundColor);
this.width=a.container.width();this.height=a.container.height();this.resize();jQuery(window).resize(function(){var c=a.container.width(),e=a.container.height();if(c&&e){d.width=c;d.height=e;d.resize();d.canvas.setSize(d.width,d.height);d.applyTransform();var g=jQuery.Event("resize.jqvmap");jQuery(a.container).trigger(g,[c,e]);b&&(jQuery(".jqvmap-pin").remove(),d.pinHandlers=!1,d.placePins(b.pins,b.mode))}});this.canvas=new VectorCanvas(this.width,this.height,a);a.container.append(this.canvas.canvas);
this.makeDraggable();this.rootGroup=this.canvas.createGroup(!0);this.index=JQVMap.mapIndex;this.label=jQuery("<div/>").addClass("jqvmap-label").appendTo(jQuery("body")).hide();a.enableZoom&&(jQuery("<div/>").addClass("jqvmap-zoomin").text("+").appendTo(a.container),jQuery("<div/>").addClass("jqvmap-zoomout").html("&#x2212;").appendTo(a.container));d.countries=[];for(var e in c.paths){var g=this.canvas.createPath({path:c.paths[e].path});g.setFill(this.color);g.id=d.getCountryId(e);d.countries[e]=g;
"svg"===this.canvas.mode?g.setAttribute("class","jqvmap-region"):jQuery(g).addClass("jqvmap-region");jQuery(this.rootGroup).append(g)}if(jQuery(a.container).delegate("svg"===this.canvas.mode?"path":"shape","mouseover mouseout",function(b){var e=b.target,g=b.target.id.split("_").pop(),k=jQuery.Event("labelShow.jqvmap"),h=jQuery.Event("regionMouseOver.jqvmap");g=g.toLowerCase();"mouseover"===b.type?(jQuery(a.container).trigger(h,[g,c.paths[g].name]),h.isDefaultPrevented()||d.highlight(g,e),a.showTooltip&&
(d.label.text(c.paths[g].name),jQuery(a.container).trigger(k,[d.label,g]),k.isDefaultPrevented()||(d.label.show(),d.labelWidth=d.label.width(),d.labelHeight=d.label.height()))):(d.unhighlight(g,e),d.label.hide(),jQuery(a.container).trigger("regionMouseOut.jqvmap",[g,c.paths[g].name]))}),jQuery(a.container).delegate("svg"===this.canvas.mode?"path":"shape","click",function(b){var e=b.target;b=b.target.id.split("_").pop();var g=jQuery.Event("regionClick.jqvmap");if(b=b.toLowerCase(),jQuery(a.container).trigger(g,
[b,c.paths[b].name]),!a.multiSelectRegion&&!g.isDefaultPrevented())for(var h in c.paths)d.countries[h].currentFillColor=d.countries[h].getOriginalFill(),d.countries[h].setFill(d.countries[h].getOriginalFill());g.isDefaultPrevented()||(d.isSelected(b)?d.deselect(b,e):d.select(b,e))}),a.showTooltip&&a.container.mousemove(function(a){if(d.label.is(":visible")){var b=a.pageX-15-d.labelWidth,c=a.pageY-15-d.labelHeight;0>b&&(b=a.pageX+15);0>c&&(c=a.pageY+15);d.label.css({left:b,top:c})}}),this.setColors(a.colors),
this.canvas.canvas.appendChild(this.rootGroup),this.applyTransform(),this.colorScale=new ColorScale(a.scaleColors,a.normalizeFunction,a.valueMin,a.valueMax),a.values&&(this.values=a.values,this.setValues(a.values)),a.selectedRegions)if(a.selectedRegions instanceof Array)for(var h in a.selectedRegions)this.select(a.selectedRegions[h].toLowerCase());else this.select(a.selectedRegions.toLowerCase());if(this.bindZoomButtons(),a.pins&&(b={pins:a.pins,mode:a.pinMode},this.pinHandlers=!1,this.placePins(a.pins,
a.pinMode)),a.showLabels){this.pinHandlers=!1;g={};for(e in d.countries)"function"!=typeof d.countries[e]&&(a.pins&&a.pins[e]||(g[e]=e.toUpperCase()));b={pins:g,mode:"content"};this.placePins(g,"content")}JQVMap.mapIndex++};JQVMap.prototype={transX:0,transY:0,scale:1,baseTransX:0,baseTransY:0,baseScale:1,width:0,height:0,countries:{},countriesColors:{},countriesData:{},zoomStep:1.4,zoomMaxStep:4,zoomCurStep:1};JQVMap.xlink="http://www.w3.org/1999/xlink";JQVMap.mapIndex=1;JQVMap.maps={};
(function(){var a={colors:1,values:1,backgroundColor:1,scaleColors:1,normalizeFunction:1,enableZoom:1,showTooltip:1,borderColor:1,borderWidth:1,borderOpacity:1,selectedRegions:1,multiSelectRegion:1},b={onLabelShow:"labelShow",onLoad:"load",onRegionOver:"regionMouseOver",onRegionOut:"regionMouseOut",onRegionClick:"regionClick",onRegionSelect:"regionSelect",onRegionDeselect:"regionDeselect",onResize:"resize"};jQuery.fn.vectorMap=function(d){var c={map:"world_en",backgroundColor:"#a5bfdd",color:"#f4f3f0",
hoverColor:"#c9dfaf",hoverColors:{},selectedColor:"#c9dfaf",scaleColors:["#b6d6ff","#005ace"],normalizeFunction:"linear",enableZoom:!0,showTooltip:!0,borderColor:"#818181",borderWidth:1,borderOpacity:.25,selectedRegions:null,multiSelectRegion:!1},e=this.data("mapObject");if("addMap"===d)JQVMap.maps[arguments[1]]=arguments[2];else{if("set"!==d||!a[arguments[1]]){if("string"==typeof d&&"function"==typeof e[d])return e[d].apply(e,Array.prototype.slice.call(arguments,1));jQuery.extend(c,d);c.container=
this;this.css({position:"relative",overflow:"hidden"});e=new JQVMap(c);this.data("mapObject",e);this.unbind(".jqvmap");for(var g in b)c[g]&&this.bind(b[g]+".jqvmap",c[g]);g=jQuery.Event("load.jqvmap");return jQuery(c.container).trigger(g,e),e}e["set"+arguments[1].charAt(0).toUpperCase()+arguments[1].substr(1)].apply(e,Array.prototype.slice.call(arguments,2))}}})(jQuery);ColorScale.arrayToRgb=function(a){for(var b,d="#",c=0;c<a.length;c++)b=a[c].toString(16),d+=1===b.length?"0"+b:b;return d};
ColorScale.prototype.getColor=function(a){"function"==typeof this.normalize&&(a=this.normalize(a));for(var b,d=[],c=0,e=0;e<this.colors.length-1;e++)b=this.vectorLength(this.vectorSubtract(this.colors[e+1],this.colors[e])),d.push(b),c+=b;b=(this.maxValue-this.minValue)/c;for(e=0;e<d.length;e++)d[e]*=b;e=0;for(a-=this.minValue;0<=a-d[e];)a-=d[e],e++;for(a=e===this.colors.length-1?this.vectorToNum(this.colors[e]).toString(16):this.vectorToNum(this.vectorAdd(this.colors[e],this.vectorMult(this.vectorSubtract(this.colors[e+
1],this.colors[e]),a/d[e]))).toString(16);6>a.length;)a="0"+a;return"#"+a};ColorScale.rgbToArray=function(a){return a=a.substr(1),[parseInt(a.substr(0,2),16),parseInt(a.substr(2,2),16),parseInt(a.substr(4,2),16)]};ColorScale.prototype.setColors=function(a){for(var b=0;b<a.length;b++)a[b]=ColorScale.rgbToArray(a[b]);this.colors=a};ColorScale.prototype.setMax=function(a){this.clearMaxValue=a;"function"==typeof this.normalize?this.maxValue=this.normalize(a):this.maxValue=a};
ColorScale.prototype.setMin=function(a){this.clearMinValue=a;"function"==typeof this.normalize?this.minValue=this.normalize(a):this.minValue=a};ColorScale.prototype.setNormalizeFunction=function(a){"polynomial"===a?this.normalize=function(a){return Math.pow(a,.2)}:"linear"===a?delete this.normalize:this.normalize=a;this.setMin(this.clearMinValue);this.setMax(this.clearMaxValue)};ColorScale.prototype.vectorAdd=function(a,b){for(var d=[],c=0;c<a.length;c++)d[c]=a[c]+b[c];return d};
ColorScale.prototype.vectorLength=function(a){for(var b=0,d=0;d<a.length;d++)b+=a[d]*a[d];return Math.sqrt(b)};ColorScale.prototype.vectorMult=function(a,b){for(var d=[],c=0;c<a.length;c++)d[c]=a[c]*b;return d};ColorScale.prototype.vectorSubtract=function(a,b){for(var d=[],c=0;c<a.length;c++)d[c]=a[c]-b[c];return d};ColorScale.prototype.vectorToNum=function(a){for(var b=0,d=0;d<a.length;d++)b+=Math.round(a[d])*Math.pow(256,a.length-d-1);return b};
JQVMap.prototype.applyTransform=function(){var a,b,d,c;this.defaultWidth*this.scale<=this.width?(a=(this.width-this.defaultWidth*this.scale)/(2*this.scale),d=(this.width-this.defaultWidth*this.scale)/(2*this.scale)):(a=0,d=(this.width-this.defaultWidth*this.scale)/this.scale);this.defaultHeight*this.scale<=this.height?(b=(this.height-this.defaultHeight*this.scale)/(2*this.scale),c=(this.height-this.defaultHeight*this.scale)/(2*this.scale)):(b=0,c=(this.height-this.defaultHeight*this.scale)/this.scale);
this.transY>b?this.transY=b:this.transY<c&&(this.transY=c);this.transX>a?this.transX=a:this.transX<d&&(this.transX=d);this.canvas.applyTransformParams(this.scale,this.transX,this.transY)};JQVMap.prototype.bindZoomButtons=function(){var a=this;this.container.find(".jqvmap-zoomin").click(function(){a.zoomIn()});this.container.find(".jqvmap-zoomout").click(function(){a.zoomOut()})};
JQVMap.prototype.deselect=function(a,b){if(a=a.toLowerCase(),b=b||jQuery("#"+this.getCountryId(a))[0],this.isSelected(a))this.selectedRegions.splice(this.selectIndex(a),1),jQuery(this.container).trigger("regionDeselect.jqvmap",[a]),b.currentFillColor=b.getOriginalFill(),b.setFill(b.getOriginalFill());else for(var d in this.countries)this.selectedRegions.splice(this.selectedRegions.indexOf(d),1),this.countries[d].currentFillColor=this.color,this.countries[d].setFill(this.color)};
JQVMap.prototype.getCountryId=function(a){return"jqvmap"+this.index+"_"+a};JQVMap.prototype.getPin=function(a){return jQuery("#"+this.getPinId(a)).html()};JQVMap.prototype.getPinId=function(a){return this.getCountryId(a)+"_pin"};JQVMap.prototype.getPins=function(){var a=this.container.find(".jqvmap-pin"),b={};return jQuery.each(a,function(a,c){c=jQuery(c);a=c.attr("for").toLowerCase();c=c.html();b[a]=c}),JSON.stringify(b)};
JQVMap.prototype.highlight=function(a,b){b=b||jQuery("#"+this.getCountryId(a))[0];this.hoverOpacity?b.setOpacity(this.hoverOpacity):this.hoverColors&&a in this.hoverColors?(b.currentFillColor=b.getFill()+"",b.setFill(this.hoverColors[a])):this.hoverColor&&(b.currentFillColor=b.getFill()+"",b.setFill(this.hoverColor))};JQVMap.prototype.isSelected=function(a){return 0<=this.selectIndex(a)};
JQVMap.prototype.makeDraggable=function(){var a,b,d=!1,c=this;c.isMoving=!1;c.isMovingTimeout=!1;var e,g,h,k,f,l,m;this.container.mousemove(function(e){return d&&(c.transX-=(a-e.pageX)/c.scale,c.transY-=(b-e.pageY)/c.scale,c.applyTransform(),a=e.pageX,b=e.pageY,c.isMoving=!0,c.isMovingTimeout&&clearTimeout(c.isMovingTimeout),c.container.trigger("drag")),!1}).mousedown(function(c){return d=!0,a=c.pageX,b=c.pageY,!1}).mouseup(function(){return d=!1,clearTimeout(c.isMovingTimeout),c.isMovingTimeout=
setTimeout(function(){c.isMoving=!1},100),!1}).mouseout(function(){return d&&c.isMoving?(clearTimeout(c.isMovingTimeout),c.isMovingTimeout=setTimeout(function(){d=!1;c.isMoving=!1},100),!1):void 0});jQuery(this.container).bind("touchmove",function(a){var b=a.originalEvent.touches;if(1===b.length){if(1===e){if(l===b[0].pageX&&m===b[0].pageY)return;var d=c.transX;var n=c.transY;c.transX-=(l-b[0].pageX)/c.scale;c.transY-=(m-b[0].pageY)/c.scale;c.applyTransform();d===c.transX&&n===c.transY||a.preventDefault();
c.isMoving=!0;c.isMovingTimeout&&clearTimeout(c.isMovingTimeout)}l=b[0].pageX;m=b[0].pageY}else 2===b.length&&(2===e?(n=Math.sqrt(Math.pow(b[0].pageX-b[1].pageX,2)+Math.pow(b[0].pageY-b[1].pageY,2))/k,c.setScale(f*n,g,h),a.preventDefault()):(d=jQuery(c.container).offset(),g=b[0].pageX>b[1].pageX?b[1].pageX+(b[0].pageX-b[1].pageX)/2:b[0].pageX+(b[1].pageX-b[0].pageX)/2,h=b[0].pageY>b[1].pageY?b[1].pageY+(b[0].pageY-b[1].pageY)/2:b[0].pageY+(b[1].pageY-b[0].pageY)/2,g-=d.left,h-=d.top,f=c.scale,k=Math.sqrt(Math.pow(b[0].pageX-
b[1].pageX,2)+Math.pow(b[0].pageY-b[1].pageY,2))));e=b.length});jQuery(this.container).bind("touchstart",function(){e=0});jQuery(this.container).bind("touchend",function(){e=0})};
JQVMap.prototype.placePins=function(a,b){var d=this;((!b||"content"!==b&&"id"!==b)&&(b="content"),"content"===b?jQuery.each(a,function(a,b){if(0!==jQuery("#"+d.getCountryId(a)).length){var c=d.getPinId(a),e=jQuery("#"+c);0<e.length&&e.remove();d.container.append('<div id="'+c+'" for="'+a+'" class="jqvmap-pin" style="position:absolute">'+b+"</div>")}}):jQuery.each(a,function(a,b){if(0!==jQuery("#"+d.getCountryId(a)).length){var c=d.getPinId(a),e=jQuery("#"+c);0<e.length&&e.remove();d.container.append('<div id="'+
c+'" for="'+a+'" class="jqvmap-pin" style="position:absolute"></div>');e.append(jQuery("#"+b))}}),this.positionPins(),this.pinHandlers)||(this.pinHandlers=!0,a=function(){d.positionPins()},this.container.bind("zoomIn",a).bind("zoomOut",a).bind("drag",a))};
JQVMap.prototype.positionPins=function(){var a=this,b=this.container.find(".jqvmap-pin");jQuery.each(b,function(b,c){c=jQuery(c);b=a.getCountryId(c.attr("for").toLowerCase());b=jQuery("#"+b)[0].getBBox();var d=a.scale,g=a.canvas.rootGroup.getBoundingClientRect(),h=a.container[0].getBoundingClientRect(),k=g.top-h.top,f=b.y*d+b.height*d/2;c.css({left:g.left-h.left+(b.x*d+b.width*d/2)-c.width()/2,top:k+f-c.height()/2})})};JQVMap.prototype.removePin=function(a){a=a.toLowerCase();jQuery("#"+this.getPinId(a)).remove()};
JQVMap.prototype.removePins=function(){this.container.find(".jqvmap-pin").remove()};JQVMap.prototype.reset=function(){for(var a in this.countries)this.countries[a].setFill(this.color);this.scale=this.baseScale;this.transX=this.baseTransX;this.transY=this.baseTransY;this.applyTransform()};
JQVMap.prototype.resize=function(){var a=this.baseScale;this.width/this.height>this.defaultWidth/this.defaultHeight?(this.baseScale=this.height/this.defaultHeight,this.baseTransX=Math.abs(this.width-this.defaultWidth*this.baseScale)/(2*this.baseScale)):(this.baseScale=this.width/this.defaultWidth,this.baseTransY=Math.abs(this.height-this.defaultHeight*this.baseScale)/(2*this.baseScale));this.scale*=this.baseScale/a;this.transX*=this.baseScale/a;this.transY*=this.baseScale/a};
JQVMap.prototype.select=function(a,b){a=a.toLowerCase();b=b||jQuery("#"+this.getCountryId(a))[0];this.isSelected(a)||(this.multiSelectRegion?this.selectedRegions.push(a):this.selectedRegions=[a],jQuery(this.container).trigger("regionSelect.jqvmap",[a]),this.selectedColor&&b&&(b.currentFillColor=this.selectedColor,b.setFill(this.selectedColor)))};JQVMap.prototype.selectIndex=function(a){a=a.toLowerCase();for(var b=0;b<this.selectedRegions.length;b++)if(a===this.selectedRegions[b])return b;return-1};
JQVMap.prototype.setBackgroundColor=function(a){this.container.css("background-color",a)};JQVMap.prototype.setColors=function(a,b){if("string"==typeof a)this.countries[a].setFill(b),this.countries[a].setAttribute("original",b);else for(var d in a)this.countries[d]&&(this.countries[d].setFill(a[d]),this.countries[d].setAttribute("original",a[d]))};JQVMap.prototype.setNormalizeFunction=function(a){this.colorScale.setNormalizeFunction(a);this.values&&this.setValues(this.values)};
JQVMap.prototype.setScale=function(a){this.scale=a;this.applyTransform()};JQVMap.prototype.setScaleColors=function(a){this.colorScale.setColors(a);this.values&&this.setValues(this.values)};
JQVMap.prototype.setValues=function(a){var b=0,d=Number.MAX_VALUE;for(c in a){var c=c.toLowerCase();var e=parseFloat(a[c]);isNaN(e)||(e>b&&(b=a[c]),d>e&&(d=e))}d===b&&b++;this.colorScale.setMin(d);this.colorScale.setMax(b);b={};for(c in a)c=c.toLowerCase(),e=parseFloat(a[c]),b[c]=isNaN(e)?this.color:this.colorScale.getColor(e);this.setColors(b);this.values=a};JQVMap.prototype.unhighlight=function(a,b){a=a.toLowerCase();b=b||jQuery("#"+this.getCountryId(a))[0];b.setOpacity(1);b.currentFillColor&&b.setFill(b.currentFillColor)};
JQVMap.prototype.zoomIn=function(){var a=(jQuery("#zoom").innerHeight()-12-30-6-7-6)/(this.zoomMaxStep-this.zoomCurStep);if(this.zoomCurStep<this.zoomMaxStep){this.transX-=(this.width/this.scale-this.width/(this.scale*this.zoomStep))/2;this.transY-=(this.height/this.scale-this.height/(this.scale*this.zoomStep))/2;this.setScale(this.scale*this.zoomStep);this.zoomCurStep++;var b=jQuery("#zoomSlider");b.css("top",parseInt(b.css("top"),10)-a);this.container.trigger("zoomIn")}};
JQVMap.prototype.zoomOut=function(){var a=(jQuery("#zoom").innerHeight()-12-30-6-7-6)/(this.zoomMaxStep-this.zoomCurStep);if(1<this.zoomCurStep){this.transX+=(this.width/(this.scale/this.zoomStep)-this.width/this.scale)/2;this.transY+=(this.height/(this.scale/this.zoomStep)-this.height/this.scale)/2;this.setScale(this.scale/this.zoomStep);this.zoomCurStep--;var b=jQuery("#zoomSlider");b.css("top",parseInt(b.css("top"),10)+a);this.container.trigger("zoomOut")}};
VectorCanvas.prototype.applyTransformParams=function(a,b,d){"svg"===this.mode?this.rootGroup.setAttribute("transform","scale("+a+") translate("+b+", "+d+")"):(this.rootGroup.coordorigin=this.width-b+","+(this.height-d),this.rootGroup.coordsize=this.width/a+","+this.height/a)};
VectorCanvas.prototype.createGroup=function(a){var b;return"svg"===this.mode?b=this.createSvgNode("g"):(b=this.createVmlNode("group"),b.style.width=this.width+"px",b.style.height=this.height+"px",b.style.left="0px",b.style.top="0px",b.coordorigin="0 0",b.coordsize=this.width+" "+this.height),a&&(this.rootGroup=b),b};
VectorCanvas.prototype.createPath=function(a){if("svg"===this.mode){var b=this.createSvgNode("path");b.setAttribute("d",a.path);null!==this.params.borderColor&&b.setAttribute("stroke",this.params.borderColor);0<this.params.borderWidth&&(b.setAttribute("stroke-width",this.params.borderWidth),b.setAttribute("stroke-linecap","round"),b.setAttribute("stroke-linejoin","round"));0<this.params.borderOpacity&&b.setAttribute("stroke-opacity",this.params.borderOpacity);b.setFill=function(a){this.setAttribute("fill",
a);null===this.getAttribute("original")&&this.setAttribute("original",a)};b.getFill=function(){return this.getAttribute("fill")};b.getOriginalFill=function(){return this.getAttribute("original")};b.setOpacity=function(a){this.setAttribute("fill-opacity",a)}}else b=this.createVmlNode("shape"),b.coordorigin="0 0",b.coordsize=this.width+" "+this.height,b.style.width=this.width+"px",b.style.height=this.height+"px",b.fillcolor=JQVMap.defaultFillColor,b.stroked=!1,b.path=VectorCanvas.pathSvgToVml(a.path),
a=this.createVmlNode("skew"),a.on=!0,a.matrix="0.01,0,0,0.01,0,0",a.offset="0,0",b.appendChild(a),a=this.createVmlNode("fill"),b.appendChild(a),b.setFill=function(a){this.getElementsByTagName("fill")[0].color=a;null===this.getAttribute("original")&&this.setAttribute("original",a)},b.getFill=function(){return this.getElementsByTagName("fill")[0].color},b.getOriginalFill=function(){return this.getAttribute("original")},b.setOpacity=function(a){this.getElementsByTagName("fill")[0].opacity=parseInt(100*
a,10)+"%"};return b};
VectorCanvas.prototype.pathSvgToVml=function(a){var b,d,c="",e=0,g=0;return a.replace(/([MmLlHhVvCcSs])((?:-?(?:\d+)?(?:\.\d+)?,?\s?)+)/g,function(a,k,f){f=f.replace(/(\d)-/g,"$1,-").replace(/\s+/g,",").split(",");f[0]||f.shift();a=0;for(var h=f.length;h>a;a++)f[a]=Math.round(100*f[a]);switch(k){case "m":e+=f[0];g+=f[1];c="t"+f.join(",");break;case "M":e=f[0];g=f[1];c="m"+f.join(",");break;case "l":e+=f[0];g+=f[1];c="r"+f.join(",");break;case "L":e=f[0];g=f[1];c="l"+f.join(",");break;case "h":e+=
f[0];c="r"+f[0]+",0";break;case "H":e=f[0];c="l"+e+","+g;break;case "v":g+=f[0];c="r0,"+f[0];break;case "V":g=f[0];c="l"+e+","+g;break;case "c":b=e+f[f.length-4];d=g+f[f.length-3];e+=f[f.length-2];g+=f[f.length-1];c="v"+f.join(",");break;case "C":b=f[f.length-4];d=f[f.length-3];e=f[f.length-2];g=f[f.length-1];c="c"+f.join(",");break;case "s":f.unshift(g-d);f.unshift(e-b);b=e+f[f.length-4];d=g+f[f.length-3];e+=f[f.length-2];g+=f[f.length-1];c="v"+f.join(",");break;case "S":f.unshift(g+g-d),f.unshift(e+
e-b),b=f[f.length-4],d=f[f.length-3],e=f[f.length-2],g=f[f.length-1],c="c"+f.join(",")}return c}).replace(/z/g,"")};
VectorCanvas.prototype.setSize=function(a,b){if("svg"===this.mode)this.canvas.setAttribute("width",a),this.canvas.setAttribute("height",b);else if(this.canvas.style.width=a+"px",this.canvas.style.height=b+"px",this.canvas.coordsize=a+" "+b,this.canvas.coordorigin="0 0",this.rootGroup){for(var d=this.rootGroup.getElementsByTagName("shape"),c=0,e=d.length;e>c;c++)d[c].coordsize=a+" "+b,d[c].style.width=a+"px",d[c].style.height=b+"px";this.rootGroup.coordsize=a+" "+b;this.rootGroup.style.width=a+"px";
this.rootGroup.style.height=b+"px"}this.width=a;this.height=b};
