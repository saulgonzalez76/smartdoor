/*
 RowReorder 1.2.6
 2015-2019 SpryMedia Ltd - datatables.net/license
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,e,d){a instanceof String&&(a=String(a));for(var h=a.length,g=0;g<h;g++){var m=a[g];if(e.call(d,m,g,a))return{i:g,v:m}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,d){a!=Array.prototype&&a!=Object.prototype&&(a[e]=d.value)};$jscomp.getGlobal=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var e=0;e<a.length;++e){var d=a[e];if(d&&d.Math==Math)return d}return globalThis};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,e,d,h){if(e){d=$jscomp.global;a=a.split(".");for(h=0;h<a.length-1;h++){var g=a[h];g in d||(d[g]={});d=d[g]}a=a[a.length-1];h=d[a];e=e(h);e!=h&&null!=e&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6","es3");
(function(a){"function"===typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return a(e,window,document)}):"object"===typeof exports?module.exports=function(e,d){e||(e=window);d&&d.fn.dataTable||(d=require("datatables.net")(e,d).$);return a(d,e,e.document)}:a(jQuery,window,document)})(function(a,e,d,h){var g=a.fn.dataTable,m=function(f,c){if(!g.versionCheck||!g.versionCheck("1.10.8"))throw"DataTables RowReorder requires DataTables 1.10.8 or newer";this.c=a.extend(!0,{},g.defaults.rowReorder,
m.defaults,c);this.s={bodyTop:null,dt:new g.Api(f),getDataFn:g.ext.oApi._fnGetObjectDataFn(this.c.dataSrc),middles:null,scroll:{},scrollInterval:null,setDataFn:g.ext.oApi._fnSetObjectDataFn(this.c.dataSrc),start:{top:0,left:0,offsetTop:0,offsetLeft:0,nodes:[]},windowHeight:0,documentOuterHeight:0,domCloneOuterHeight:0};this.dom={clone:null,dtScroll:a("div.dataTables_scrollBody",this.s.dt.table().container())};f=this.s.dt.settings()[0];if(c=f.rowreorder)return c;f.rowreorder=this;this._constructor()};
a.extend(m.prototype,{_constructor:function(){var f=this,c=this.s.dt,b=a(c.table().node());"static"===b.css("position")&&b.css("position","relative");a(c.table().container()).on("mousedown.rowReorder touchstart.rowReorder",this.c.selector,function(b){if(f.c.enable){if(a(b.target).is(f.c.excludedChildren))return!0;var k=a(this).closest("tr"),d=c.row(k);if(d.any())return f._emitEvent("pre-row-reorder",{node:d.node(),index:d.index()}),f._mouseDown(b,k),!1}});c.on("destroy.rowReorder",function(){a(c.table().container()).off(".rowReorder");
c.off(".rowReorder")})},_cachePositions:function(){var f=this.s.dt,c=a(f.table().node()).find("thead").outerHeight(),b=a.unique(f.rows({page:"current"}).nodes().toArray()),k=a.map(b,function(b){return a(b).position().top-c});b=a.map(k,function(b,c){return k.length<c-1?(b+k[c+1])/2:(b+b+a(f.row(":last-child").node()).outerHeight())/2});this.s.middles=b;this.s.bodyTop=a(f.table().body()).offset().top;this.s.windowHeight=a(e).height();this.s.documentOuterHeight=a(d).outerHeight()},_clone:function(f){var c=
a(this.s.dt.table().node().cloneNode(!1)).addClass("dt-rowReorder-float").append("<tbody/>").append(f.clone(!1)),b=f.outerWidth(),k=f.outerHeight(),d=f.children().map(function(){return a(this).width()});c.width(b).height(k).find("tr").children().each(function(a){this.style.width=d[a]+"px"});c.appendTo("body");this.dom.clone=c;this.s.domCloneOuterHeight=c.outerHeight()},_clonePosition:function(a){var c=this.s.start,b=this._eventToPage(a,"Y")-c.top;a=this._eventToPage(a,"X")-c.left;var f=this.c.snapX;
b+=c.offsetTop;c=!0===f?c.offsetLeft:"number"===typeof f?c.offsetLeft+f:a+c.offsetLeft;0>b?b=0:b+this.s.domCloneOuterHeight>this.s.documentOuterHeight&&(b=this.s.documentOuterHeight-this.s.domCloneOuterHeight);this.dom.clone.css({top:b,left:c})},_emitEvent:function(f,c){this.s.dt.iterator("table",function(b){a(b.nTable).triggerHandler(f+".dt",c)})},_eventToPage:function(a,c){return-1!==a.type.indexOf("touch")?a.originalEvent.touches[0]["page"+c]:a["page"+c]},_mouseDown:function(f,c){var b=this,k=
this.s.dt,g=this.s.start,t=c.offset();g.top=this._eventToPage(f,"Y");g.left=this._eventToPage(f,"X");g.offsetTop=t.top;g.offsetLeft=t.left;g.nodes=a.unique(k.rows({page:"current"}).nodes().toArray());this._cachePositions();this._clone(c);this._clonePosition(f);this.dom.target=c;c.addClass("dt-rowReorder-moving");a(d).on("mouseup.rowReorder touchend.rowReorder",function(a){b._mouseUp(a)}).on("mousemove.rowReorder touchmove.rowReorder",function(a){b._mouseMove(a)});a(e).width()===a(d).width()&&a(d.body).addClass("dt-rowReorder-noOverflow");
k=this.dom.dtScroll;this.s.scroll={windowHeight:a(e).height(),windowWidth:a(e).width(),dtTop:k.length?k.offset().top:null,dtLeft:k.length?k.offset().left:null,dtHeight:k.length?k.outerHeight():null,dtWidth:k.length?k.outerWidth():null}},_mouseMove:function(f){this._clonePosition(f);for(var c=this._eventToPage(f,"Y")-this.s.bodyTop,b=this.s.middles,d=null,e=this.s.dt,g=e.table().body(),n=0,h=b.length;n<h;n++)if(c<b[n]){d=n;break}null===d&&(d=b.length);if(null===this.s.lastInsert||this.s.lastInsert!==
d)0===d?this.dom.target.prependTo(g):(c=a.unique(e.rows({page:"current"}).nodes().toArray()),d>this.s.lastInsert?this.dom.target.insertAfter(c[d-1]):this.dom.target.insertBefore(c[d])),this._cachePositions(),this.s.lastInsert=d;this._shiftScroll(f)},_mouseUp:function(f){var c=this,b=this.s.dt,e,g=this.c.dataSrc;this.dom.clone.remove();this.dom.clone=null;this.dom.target.removeClass("dt-rowReorder-moving");a(d).off(".rowReorder");a(d.body).removeClass("dt-rowReorder-noOverflow");clearInterval(this.s.scrollInterval);
this.s.scrollInterval=null;var h=this.s.start.nodes,n=a.unique(b.rows({page:"current"}).nodes().toArray()),m={},q=[],p=[],r=this.s.getDataFn,y=this.s.setDataFn;var l=0;for(e=h.length;l<e;l++)if(h[l]!==n[l]){var u=b.row(n[l]).id(),z=b.row(n[l]).data(),v=b.row(h[l]).data();u&&(m[u]=r(v));q.push({node:n[l],oldData:r(z),newData:r(v),newPosition:l,oldPosition:a.inArray(n[l],h)});p.push(n[l])}var w=[q,{dataSrc:g,nodes:p,values:m,triggerRow:b.row(this.dom.target),originalEvent:f}];this._emitEvent("row-reorder",
w);var x=function(){if(c.c.update){l=0;for(e=q.length;l<e;l++){var a=b.row(q[l].node).data();y(a,q[l].newData);b.columns().every(function(){this.dataSrc()===g&&b.cell(q[l].node,this.index()).invalidate("data")})}c._emitEvent("row-reordered",w);b.draw(!1)}};this.c.editor?(this.c.enable=!1,this.c.editor.edit(p,!1,a.extend({submit:"changed"},this.c.formOptions)).multiSet(g,m).one("preSubmitCancelled.rowReorder",function(){c.c.enable=!0;c.c.editor.off(".rowReorder");b.draw(!1)}).one("submitUnsuccessful.rowReorder",
function(){b.draw(!1)}).one("submitSuccess.rowReorder",function(){x()}).one("submitComplete",function(){c.c.enable=!0;c.c.editor.off(".rowReorder")}).submit()):x()},_shiftScroll:function(a){var c=this,b=this.s.scroll,f=!1,e=a.pageY-d.body.scrollTop,g,h;65>e?g=-5:e>b.windowHeight-65&&(g=5);null!==b.dtTop&&a.pageY<b.dtTop+65?h=-5:null!==b.dtTop&&a.pageY>b.dtTop+b.dtHeight-65&&(h=5);g||h?(b.windowVert=g,b.dtVert=h,f=!0):this.s.scrollInterval&&(clearInterval(this.s.scrollInterval),this.s.scrollInterval=
null);!this.s.scrollInterval&&f&&(this.s.scrollInterval=setInterval(function(){b.windowVert&&(d.body.scrollTop+=b.windowVert);if(b.dtVert){var a=c.dom.dtScroll[0];b.dtVert&&(a.scrollTop+=b.dtVert)}},20))}});m.defaults={dataSrc:0,editor:null,enable:!0,formOptions:{},selector:"td:first-child",snapX:!1,update:!0,excludedChildren:"a"};var p=a.fn.dataTable.Api;p.register("rowReorder()",function(){return this});p.register("rowReorder.enable()",function(a){a===h&&(a=!0);return this.iterator("table",function(c){c.rowreorder&&
(c.rowreorder.c.enable=a)})});p.register("rowReorder.disable()",function(){return this.iterator("table",function(a){a.rowreorder&&(a.rowreorder.c.enable=!1)})});m.version="1.2.6";a.fn.dataTable.RowReorder=m;a.fn.DataTable.RowReorder=m;a(d).on("init.dt.dtr",function(d,c){if("dt"===d.namespace){d=c.oInit.rowReorder;var b=g.defaults.rowReorder;if(d||b)b=a.extend({},d,b),!1!==d&&new m(c,b)}});return m});
